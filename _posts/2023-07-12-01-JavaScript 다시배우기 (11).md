---
title: "JavaScript 18장 - 개념짚기 (11)"
excerpt: "자바스크립트"

categories: JavaScript
tags: [자바스크립트, JavaScript]

toc: true
toc_sticky: true

date: 2023-07-12
last_modified_at: 2022-07-14
---

# JavaScript

## 상속, prototype

- `Java,C`언어는 클래스 기반의 객체 지향 프로그래밍 언어이지만, `JavaScript`는 프로토타입 기반 언어이다.
- 클래스 기반 객체 지향 언어는 객체 생성 이전에 클래스를 정의하고 이를 통해 객체를 생성하지만, 프로토타입 기반 객체 지향 언어는 클래스 없이도 객체를 생성할 수 있다.
- **자바스크립트의 모든 객체는 자신의 부모 역할을 담당하는 객체와 연결되어 있는데, 상속 개념과 같이 부모 객체의 프로퍼티 또는 메서드를 상속받아 사용할 수 있게 한다.**
- **이러한 부모 객체를 `prototype`객체라고 한다.**

```js
let example = { name: "Choi" };

example.hasOwnProperty("name"); // true
```

- `example`이라는 변수에 `hasOwnProperty`라는 메서드는 없지만, 자바스크립트의 모든 객체는 `[[Prototype]]`이라는 인터널 슬롯을 가지며 상속을 구현하는데 사용한다.

```js
const car = {
  wheels: 4,
  drive() {
    console.log("drive");
  },
};

const bmw = {
  color: "red",
  navigation: 1,
  wheels: 4,
  drive() {
    console.log("drive");
  },
};

const benz = {
  color: "black",
  wheels: 4,
  drive() {
    console.log("drive");
  },
};

const audi = {
  color: "green",
  wheels: 4,
  drive() {
    console.log("drive");
  },
};
```

- 위의 코드에서 `wheels, drive`는 모든 객체에 공통적으로 들어가는 프로퍼티이다.
- 이렇게 공통된 프로퍼티를 프로토타입에 추가하여 상속시킬 수 있다.
- 상속은 계속 이어질 수 있는데 이를 **프로토 체인**이라고 한다.
- 상속된 키와 값과 관련된 나오지 않는다.

```js
bmw.__proto__ = car;
benz.__proto__ = car;
audi.__proto__ = car;

bmw; // {color: "red", navigation: 1}
bmw.drive; // drive

const x5 = {
  color: "white",
};

x5.__proto__ = bmw;

for (p in x5) {
  console.log(p);
}

// color
// name
// navigation
// wheels
// drive
```

### 생성자 함수 활용

```js
const car = {
  wheels: 4,
  drive() {
    console.log("drive");
  },
};

const BMW = function (color) {
  // this.wheels = 4;
  this.navigation = 1;
  this.color = color;
  // this.drive(){console.log("drive");};
};

const x5 = new BMW("red");
const z4 = new BMW("yellow");

x5.__proto__ = car;
z4.__proto__ = car;

BMW.prototype.stop = function () {
  console.log("stop");
};
```

### instanceof

- 생성자 함수를 활용하여 새로운 객체를 생성해낼 때, 생성된 객체는 생성자의 **인스턴스**라고 불려진다.
- 인스턴스인지를 확인하기 위해서 사용된다.
- `instanceof`를 사용해서 생성자와 인스턴스를 구별할 수 있고, 객체가 생성자로부터 생성된 것인지를 확인하여 `boolean`값으로 나타낸다.

```js
z4; // BMW {color: "yellow"}
z4 instanceof BMW; // true
```

### constructor

- 생성된 객체의 생성자를 가르킨다.

```js
z4.constructor === BMW; // true

// prototype을 줄이기 위해 아래와 같이 코드를 작성하면
// constructor가 사라지기 때문에 프로퍼티를 하나씩 추가하는 것이 좋다.
BMW.prototype = {
  // constructor: BMW
  // 이렇게 수도로 명시해주면 해결할 수 있다.
  wheels: 4,
  drive() {
    console.log("drive");
  },
  navigation: 1,
  stop() {
    console.log("stop");
  },
};

z4.constructor === BMW; // false
```

### 클로저 활용

- 상속시킨 프로퍼티에 직접적인 접근을 방지하기 위해 클로저를 활용할 수 있다.

```js
const BMW = function (color) {
  // this.wheels = 4;
  this.navigation = 1;
  this.color = color;
  // this.drive(){console.log("drive");};
};

const z4 = new BMW("yellow");
z4.color = "red"; // BMW{navigation: 1, color: "red"}

// 클로저 활용
const BMW = function (color) {
  // this.wheels = 4;
  this.navigation = 1;
  const c = this.color;
  this.getColor = function () {
    console.log(c);
  };
  // this.drive(){console.log("drive");};
};
```
